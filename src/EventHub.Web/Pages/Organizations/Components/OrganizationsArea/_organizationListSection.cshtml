@using EventHub.Web.Helpers
@model List<EventHub.Organizations.OrganizationInListDto>

@foreach (var organization in Model)
{
    <div class="col-lg-4 col-md-6 organization">
        <div class="card">
            @if (organization.ProfilePictureContent == null)
            {
                <div class="list-span text-center" style="background: @(CoverImageHelper.GetRandomColor(organization.Name))">
                    <span>@CoverImageHelper.GetContentOfImage(organization.Name).TruncateWithPostfix(40)</span>
                </div>
            }
            else
            {
                <img src="@($"data:image/png;base64,{Convert.ToBase64String(organization.ProfilePictureContent)}")" class="card-img-top" alt="@organization.Name">
            }
            <div class="card-body">
                <div class="event-container">
                    <div class="event-info">
                        <h5>@organization.DisplayName</h5>
                        <p>
                            @organization.Description
                        </p>
                    </div>
                    <a href="@Url.Page("/Organizations/Profile", new {name = organization.Name})" class="btn btn-link p-0">Details <img src="/assets/more-btn.svg"></a>
                </div>
            </div>
        </div>
    </div>
}